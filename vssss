import { Component, OnInit } from '@angular/core';
import { DoctorService } from 'src/app/services/doctor.service';

@Component({
  selector: 'app-all-doctors',
  templateUrl: './all-doctors.component.html',
  styleUrls: ['./all-doctors.component.css']
})
export class AllDoctorsComponent implements OnInit {
  doctors: any[] = [];

  constructor(private doctorService: DoctorService) {}

  ngOnInit(): void {
    this.loadDoctors();
  }

  loadDoctors(): void {
    this.doctorService.getAllDoctors().subscribe({
      next: (data) => this.doctors = data,
      error: (err) => console.error('Error fetching doctors', err)
    });
  }
}


<div class="doctor-list-container">
  <h2 class="title">Our Doctors</h2>
  <div class="doctor-card" *ngFor="let doctor of doctors">
    <img src="assets/doctor-placeholder.png" alt="Doctor Image">
    <h3>{{ doctor.username }}</h3>
    <p>Specialization: {{ doctor.specialization }}</p>
    <p>Status: 
      <span [class.available]="doctor.available" [class.unavailable]="!doctor.available">
        {{ doctor.available ? 'Available' : 'Not Available' }}
      </span>
    </p>
  </div>
</div>


.doctor-list-container {
  padding: 30px;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  background-color: #f0f6fc;
}

.title {
  width: 100%;
  text-align: center;
  margin-bottom: 20px;
  font-size: 28px;
  font-weight: bold;
}

.doctor-card {
  width: 250px;
  border: 1px solid #dcdcdc;
  border-radius: 8px;
  padding: 15px;
  margin: 10px;
  background-color: #ffffff;
  text-align: center;
}

.doctor-card img {
  width: 100px;
  height: 100px;
  border-radius: 50%;
}

.available {
  color: green;
  font-weight: bold;
}

.unavailable {
  color: red;
  font-weight: bold;
}

import { HttpClient } from '@angular/common/http';
import { Injectable } from '@angular/core';
import { Observable } from 'rxjs';

@Injectable({
  providedIn: 'root'
})
export class DoctorService {
  private baseUrl = 'http://localhost:8086/Whospitals';

  constructor(private http: HttpClient) {}

  getAllDoctors(): Observable<any[]> {
    return this.http.get<any[]>(`${this.baseUrl}/expose/doctors`);
  }
}
